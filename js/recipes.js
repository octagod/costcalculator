let sugarH3 = document.querySelector('section.sugar-section h3');
let sugarUl = document.querySelector('section.sugar-section ul');
let butterH3 = document.querySelector('section.butter-section h3');
let butterUl = document.querySelector('section.butter-section ul');
let eggH3 = document.querySelector('section.egg-section h3');
let eggUl = document.querySelector('section.egg-section ul');
let flourH3 = document.querySelector('section.flour-section h3');
let flourUl = document.querySelector('section.flour-section ul');
let othersH3 = document.querySelector('section.others-section h3');
let othersUl = document.querySelector('section.others-section ul');
let overheadH3 = document.querySelector('section.overhead-section h3');
let overheadUl = document.querySelector('section.overhead-section ul');
let butterCreamH3 = document.querySelector('section.butter-cream-section h3');
let butterCreamUl = document.querySelector('section.butter-cream-section ul');
let butterCreamOthersH3 = document.querySelector('section.butter-cream-others-section h3');
let butterCreamOthersUl = document.querySelector('section.butter-cream-others-section ul');
let fondantH3 = document.querySelector('section.fondant-section h3');
let fondantUl = document.querySelector('section.fondant-section ul');
let boardH3 = document.querySelector('section.board-section h3');
let boardUl = document.querySelector('section.board-section ul');
let boxH3 = document.querySelector('section.box-section h3');
let boxUl = document.querySelector('section.box-section ul');
let labelH3 = document.querySelector('section.label-section h3');
let labelUl = document.querySelector('section.label-section ul');
let wrapperH3 = document.querySelector('section.wrapper-section h3');
let wrapperUl = document.querySelector('section.wrapper-section ul');

let generalInput = document.querySelectorAll('input');
let sugar6 = document.getElementById('6-sugar');
let sugar7 = document.getElementById('7-sugar');
let sugar8 = document.getElementById('8-sugar');
let sugar9 = document.getElementById('9-sugar');
let sugar10 = document.getElementById('10-sugar');
let sugar11 = document.getElementById('11-sugar');
let sugar12 = document.getElementById('12-sugar');
let sugar13 = document.getElementById('13-sugar');
let sugar14 = document.getElementById('14-sugar');
let sugar15 = document.getElementById('15-sugar');
let sugar16 = document.getElementById('16-sugar');
let sugar17 = document.getElementById('17-sugar');
let sugar18 = document.getElementById('18-sugar');
let butter6 = document.getElementById('6-butter');
let butter7 = document.getElementById('7-butter');
let butter8 = document.getElementById('8-butter');
let butter9 = document.getElementById('9-butter');
let butter10 = document.getElementById('10-butter');
let butter11 = document.getElementById('11-butter');
let butter12 = document.getElementById('12-butter');
let butter13 = document.getElementById('13-butter');
let butter14 = document.getElementById('14-butter');
let butter15 = document.getElementById('15-butter');
let butter16 = document.getElementById('16-butter');
let butter17 = document.getElementById('17-butter');
let butter18 = document.getElementById('18-butter');
let egg6 = document.getElementById('6-egg');
let egg7 = document.getElementById('7-egg');
let egg8 = document.getElementById('8-egg');
let egg9 = document.getElementById('9-egg');
let egg10 = document.getElementById('10-egg');
let egg11 = document.getElementById('11-egg');
let egg12 = document.getElementById('12-egg');
let egg13 = document.getElementById('13-egg');
let egg14 = document.getElementById('14-egg');
let egg15 = document.getElementById('15-egg');
let egg16 = document.getElementById('16-egg');
let egg17 = document.getElementById('17-egg');
let egg18 = document.getElementById('18-egg');
let flour6 = document.getElementById('6-flour');
let flour7 = document.getElementById('7-flour');
let flour8 = document.getElementById('8-flour');
let flour9 = document.getElementById('9-flour');
let flour10 = document.getElementById('10-flour');
let flour11 = document.getElementById('11-flour');
let flour12 = document.getElementById('12-flour');
let flour13 = document.getElementById('13-flour');
let flour14 = document.getElementById('14-flour');
let flour15 = document.getElementById('15-flour');
let flour16 = document.getElementById('16-flour');
let flour17 = document.getElementById('17-flour');
let flour18 = document.getElementById('18-flour');
let others6 = document.getElementById('6-others');
let others7 = document.getElementById('7-others');
let others8 = document.getElementById('8-others');
let others9 = document.getElementById('9-others');
let others10 = document.getElementById('10-others');
let others11 = document.getElementById('11-others');
let others12 = document.getElementById('12-others');
let others13 = document.getElementById('13-others');
let others14 = document.getElementById('14-others');
let others15 = document.getElementById('15-others');
let others16 = document.getElementById('16-others');
let others17 = document.getElementById('17-others');
let others18 = document.getElementById('18-others');
let overhead6 = document.getElementById('6-overhead');
let overhead7 = document.getElementById('7-overhead');
let overhead8 = document.getElementById('8-overhead');
let overhead9 = document.getElementById('9-overhead');
let overhead10 = document.getElementById('10-overhead');
let overhead11 = document.getElementById('11-overhead');
let overhead12 = document.getElementById('12-overhead');
let overhead13 = document.getElementById('13-overhead');
let overhead14 = document.getElementById('14-overhead');
let overhead15 = document.getElementById('15-overhead');
let overhead16 = document.getElementById('16-overhead');
let overhead17 = document.getElementById('17-overhead');
let overhead18 = document.getElementById('18-overhead');
let butterCream6 = document.getElementById('6-butter-cream');
let butterCream7 = document.getElementById('7-butter-cream');
let butterCream8 = document.getElementById('8-butter-cream');
let butterCream9 = document.getElementById('9-butter-cream');
let butterCream10 = document.getElementById('10-butter-cream');
let butterCream11 = document.getElementById('11-butter-cream');
let butterCream12 = document.getElementById('12-butter-cream');
let butterCream13 = document.getElementById('13-butter-cream');
let butterCream14 = document.getElementById('14-butter-cream');
let butterCream15 = document.getElementById('15-butter-cream');
let butterCream16 = document.getElementById('16-butter-cream');
let butterCream17 = document.getElementById('17-butter-cream');
let butterCream18 = document.getElementById('18-butter-cream');
let butterCreamOthers6 = document.getElementById('6-butter-cream-others');
let butterCreamOthers7 = document.getElementById('7-butter-cream-others');
let butterCreamOthers8 = document.getElementById('8-butter-cream-others');
let butterCreamOthers9 = document.getElementById('9-butter-cream-others');
let butterCreamOthers10 = document.getElementById('10-butter-cream-others');
let butterCreamOthers11 = document.getElementById('11-butter-cream-others');
let butterCreamOthers12 = document.getElementById('12-butter-cream-others');
let butterCreamOthers13 = document.getElementById('13-butter-cream-others');
let butterCreamOthers14 = document.getElementById('14-butter-cream-others');
let butterCreamOthers15 = document.getElementById('15-butter-cream-others');
let butterCreamOthers16 = document.getElementById('16-butter-cream-others');
let butterCreamOthers17 = document.getElementById('17-butter-cream-others');
let butterCreamOthers18 = document.getElementById('18-butter-cream-others');
let fondant6 = document.getElementById('6-fondant');
let fondant7 = document.getElementById('7-fondant');
let fondant8 = document.getElementById('8-fondant');
let fondant9 = document.getElementById('9-fondant');
let fondant10 = document.getElementById('10-fondant');
let fondant11 = document.getElementById('11-fondant');
let fondant12 = document.getElementById('12-fondant');
let fondant13 = document.getElementById('13-fondant');
let fondant14 = document.getElementById('14-fondant');
let fondant15 = document.getElementById('15-fondant');
let fondant16 = document.getElementById('16-fondant');
let fondant17 = document.getElementById('17-fondant');
let fondant18 = document.getElementById('18-fondant');
let board6 = document.getElementById('6-board');
let board7 = document.getElementById('7-board');
let board8 = document.getElementById('8-board');
let board9 = document.getElementById('9-board');
let board10 = document.getElementById('10-board');
let board11 = document.getElementById('11-board');
let board12 = document.getElementById('12-board');
let board13 = document.getElementById('13-board');
let board14 = document.getElementById('14-board');
let board15 = document.getElementById('15-board');
let board16 = document.getElementById('16-board');
let board17 = document.getElementById('17-board');
let board18 = document.getElementById('18-board');
let box6 = document.getElementById('6-box');
let box7 = document.getElementById('7-box');
let box8 = document.getElementById('8-box');
let box9 = document.getElementById('9-box');
let box10 = document.getElementById('10-box');
let box11 = document.getElementById('11-box');
let box12 = document.getElementById('12-box');
let box13 = document.getElementById('13-box');
let box14 = document.getElementById('14-box');
let box15 = document.getElementById('15-box');
let box16 = document.getElementById('16-box');
let box17 = document.getElementById('17-box');
let box18 = document.getElementById('18-box');
let label6 = document.getElementById('6-label');
let label7 = document.getElementById('7-label');
let label8 = document.getElementById('8-label');
let label9 = document.getElementById('9-label');
let label10 = document.getElementById('10-label');
let label11 = document.getElementById('11-label');
let label12 = document.getElementById('12-label');
let label13 = document.getElementById('13-label');
let label14 = document.getElementById('14-label');
let label15 = document.getElementById('15-label');
let label16 = document.getElementById('16-label');
let label17 = document.getElementById('17-label');
let label18 = document.getElementById('18-label');
let wrapper6 = document.getElementById('6-wrapper');
let wrapper7 = document.getElementById('7-wrapper');
let wrapper8 = document.getElementById('8-wrapper');
let wrapper9 = document.getElementById('9-wrapper');
let wrapper10 = document.getElementById('10-wrapper');
let wrapper11 = document.getElementById('11-wrapper');
let wrapper12 = document.getElementById('12-wrapper');
let wrapper13 = document.getElementById('13-wrapper');
let wrapper14 = document.getElementById('14-wrapper');
let wrapper15 = document.getElementById('15-wrapper');
let wrapper16 = document.getElementById('16-wrapper');
let wrapper17 = document.getElementById('17-wrapper');
let wrapper18 = document.getElementById('18-wrapper');

let proceedBtn = document.querySelector('button.next');
let backBtn = document.querySelector('button.back');
let firstProceedBtn = document.querySelector('button.first-next');
let firstBackBtn = document.querySelector('button.first-back');
let toastBody = document.querySelector('div.toast-body');
let toastText = document.querySelector('div.toast-body p.toast-text');
let ingredientContainer = document.querySelector('section.ingredient-container');
let packagingContainer = document.querySelector('section.packaging-container');
let infoBtn = document.querySelectorAll('h3 span');


//the progress bar infomation
let progressContainer = document.querySelector('section.progress-container');
let progressText = document.querySelector('h1.progress');
let progressbar = document.querySelector('progress');



// the lists for each variable
let sugar = [];
let butter = [];
let egg = [];
let flour = [];
let others = [];
let overhead = [];
let butterCream = [];
let butterCreamOthers = [];
let fondant = [];
let board = [];
let box = [];
let label = [];
let wrapper = [];

//the object that will hold all the arrays
let data = {};


// reveal the packaging section and hide the ingredient section
firstProceedBtn.onclick = function(){
    let ingHolder = [];
    for(let q = 0; q < 52; q++){
        ingHolder[q] = generalInput[q].value;
    }
    //check if any field is empty
    if(ingHolder.includes('')){
        let val = confirm('Some Fields Are Empty, Proceed Anyways?');
        if(val == true){
            proceedToNext();
        }else{
            //do nothing
        }
    }else{
        proceedToNext();
    }

}

function proceedToNext(){   
    ingredientContainer.setAttribute('style', 'display:none');
    packagingContainer.setAttribute('style', 'display:block');

    //scroll to top
    document.body.scrollTop = 0;//safari
    document.documentElement.scrollTop = 0 // Chrome, Opera, FireFox etc

    //hide heading 
    let heading = document.querySelector('section.heading');
    heading.setAttribute('style', 'display:none');

    //increase the progress bar to 25%
    progressbar.value = 25;
    progressText.textContent = '25%';
}

firstBackBtn.onclick = function(){
    // generalInput.forEach(function(e){
    //     e.value = Math.floor(Math.random() * 100) + 100;
    // });
}


let counter = 0;
// get info
infoBtn.forEach((e, index)=>{
    console.log(index);
    e.onclick = function(){
        if(index == 0){
            showToast('Enter the weight of Sugar each size of your cakes');
        }else if(index == 1){
            showToast('Enter the weight of Butter each size of your cakes');
        } else if(index == 2){
            showToast('Enter the weight of Egg each size of your cakes');
        } else if(index == 3){
            showToast('Enter the weight of Flour each size of your cakes');
        }else if(index == 9){
            showToast('Determine the board size to hold each cake size and enter <br> the price of that board size under the appropriate cake size. <br> E>G if 10 inches cake sits on a 14 inches board, enter the price of the 14 inches board under the size 10 cake')
        }else if (index == 10){
            showToast('if your 10 inches cake is packaged with a 12 inches board, <br>put the price of the 12 inches box under the 10 inches cake on the table');
        }else if(index == 11){
            showToast('Sum up the cost of the labels, tags and stickers attached to <br>each cake size for branding. Dont forget the cost of thank you cards, fastening tapes and ribbons')
        }else if(index == 12){
            showToast('Sum up the unit cost of other packaginf for each size of cake. E.g the cost of branded nylons, wax paper and tissue used for packaging');
        }
    }
});

// ================ INPUT FIELD =======================
proceedBtn.onclick = function(){
    let ovhHolder = [];
    for(let q = 117; q < 167; q++){
        ovhHolder[q] = generalInput[q].value;
    }
    //check if any field is empty
    if(ovhHolder.includes('')){
        let val = confirm('Some Fields Are Empty And Empty Fields Will Be Populated With 0\'s.\n Proceed Anyways?');
        if(val == true){
            verifyInputs();
        }else{
            //do nothing
        }
    }else{
        verifyInputs();
    }
}

function verifyInputs(){
    for(let i = 0; i < generalInput.length; i++){
        if(generalInput[i].value === ''){
            generalInput[i].value = 0;
        }
        //move the values ino arrays
            if(i <= 12 ){
                sugar.push(generalInput[i].value);
            }else if(i > 12 && i <= 25){
                butter.push(generalInput[i].value)
            }else if(i > 25 && i <= 38){
                egg.push(generalInput[i].value);
            }else if(i > 38 && i <= 51){
                flour.push(generalInput[i].value);
            }else if(i > 51 && i <= 64){
                others.push(generalInput[i].value);
            }else if(i > 64 && i <= 77){
                overhead.push(generalInput[i].value);
            }else if(i > 77 && i <= 90){
                // butterCream.push(generalInput[i].value);
            }else if(i > 90 && i <= 103){
                butterCreamOthers.push(generalInput[i].value);
            }else if(i > 103 && i <= 116){
                fondant.push(generalInput[i].value);
            }else if( i > 116 && i <= 129){
                board.push(generalInput[i].value);
            }else if(i > 129 && i <= 142){
                box.push(generalInput[i].value);
            }else if(i > 142 && i <= 155){
                label.push(generalInput[i].value);
            }else if(i > 155 && i <= 168){
                wrapper.push(generalInput[i].value);
                // console.log(generalInput[i].value);
            }
        
    }
    //to get the value of butter ceam covering guide
    for(let x = 0; x < 13; x++){
        butterCream.push(
            (parseInt(sugar[x]) + parseInt(butter[x])
             + parseInt(egg[x]) + parseInt(flour[x]))/2
            );
    }
    //to ensure no field is left
    let confirmList = [];
    generalInput.forEach(function(e){
        confirmList.push(e.value);
    });

    if(confirmList.includes('')){
        showToast('<b>Error!!</b> Leave no field empty');
    }else{
        console.log('done..next');
        
        //set the arrays into an object
        data = {
            'sugar': sugar,
            'butter': butter,
            'egg': egg,
            'flour': flour,
            'others': others,
            'overhead': overhead,
            'butterCream': butterCream,
            'butterCreamOthers': butterCreamOthers,
            'fondant': fondant,
            'board': board,
            'box':box,
            'label': label,
            'wrapper': wrapper
        }

        //convert the data to JSON
        let data_serialized = JSON.stringify(data);

        //Save data to LocalStorage
        localStorage.setItem('data', data_serialized);

        //navigate to material cost screen
        location.href = 'material-cost.html';
    }



}

//create toast message
function showToast(msg){
    toastBody.classList.add('show-toast');
    toastText.innerHTML = msg;
    setTimeout(function(){
        toastBody.classList.remove('show-toast');
    }, 3000);
}



//show the ingredient section and hide the packaging section
backBtn.onclick = function(){
    ingredientContainer.setAttribute('style', 'display:block');
    packagingContainer.setAttribute('style', 'display:none');

    //to scroll to top
    document.body.scrollTop = 0; //Safari
    document.documentElement.scrollTop = 0; // Chrome, Opera etc

        //decrease the progress bar to 10%
        progressbar.value = 10;
        progressText.textContent = '10%';
}